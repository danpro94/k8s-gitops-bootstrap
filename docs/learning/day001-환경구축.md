# Day 001: WSL2 + k3d + Helm í•™ìŠµ ë° ì‹¤ìŠµ í™˜ê²½êµ¬ì¶•

**ë‚ ì§œ:** 2025-11-12
**ì†Œìš” ì‹œê°„:** 3ì‹œê°„  
**ë‚œì´ë„(0/5):** â­â­

---

## ðŸŽ¯ ëª©í‘œ (DoD)

- [O] ëª©í‘œ 1 WSLì„ í†µí•œ Ubuntu ë° kubectl, k3d, helm ì„¤ì¹˜
- [O] ëª©í‘œ 2 Traefik Ingress í¬í•¨ í´ëŸ¬ìŠ¤í„° ìƒì„± ë° helmì„ í†µí•œ ìƒ˜í”Œ ì•± ë°°í¬

---

## ðŸ“š í•™ìŠµ ë‚´ìš©

### 1. ê°œë… ì •ë¦¬

- k3d: ê°€ë³ê³  ë¹ ë¥¸ ë¡œì»¬ k8s í´ëŸ¬ìŠ¤í„° ìƒì„± ë„êµ¬(k3s ê¸°ë°˜)
- Traefik: ë§ˆì´í¬ë¡œ ì„œë¹„ìŠ¤ í™˜ê²½ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‰½ê²Œ ë°°í¬í•  ìˆ˜ ìžˆë„ë¡ ë•ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤Â ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ(Reverse Proxy)ì´ìžÂ ì¸ê·¸ë ˆìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬(Ingress Controller)

### 2. ì‹¤ìŠµ ê³¼ì • (=í™˜ê²½ ì¤€ë¹„ í¬í•¨)

## ì¤€ë¹„

WSL/Ubuntu ì„¤ì¹˜:

```powershell
wsl --install -d Ubuntu
```

í•„ìˆ˜ ë„êµ¬ ì„¤ì¹˜:

```bash
sudo apt-get update
sudo apt-get install -y ca-certificates curl gnupg git
# Docker (rootless í•„ìš” ì—†ìŒ, ë¡œì»¬ ê°œë°œìš©)
curl -fsSL https://get.docker.com | sh
sudo usermod -aG docker $USER
# ê¶Œí•œ ë¶€ì—¬ to ì‚¬ìš©ìž -> ë¡œê·¸ì•„ì›ƒ/ë¡œê·¸ì¸ í›„ docker ë™ìž‘ í™•ì¸
docker version
```

k3d. kubectl , helm ì„¤ì¹˜:

```bash
# k3d
curl -s https://raw.githubusercontent.com/k3d-io/k3d/main/install.sh | bash
# kubectl
curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
chmod +x kubectl && sudo mv kubectl /usr/local/bin/
# helm
curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash
```

## í´ëŸ¬ìŠ¤í„° ìƒì„±
host 8080 â†’ cluster 80 í¬íŠ¸ í¬ì›Œë”©

```bash
# í¬íŠ¸ 8080(HTTP) ê°œë°©ëœ k3d í´ëŸ¬ìŠ¤í„° 1control-plane+2agents
k3d cluster create dev \
  --agents 2 \
  --port "8080:80@loadbalancer"

kubectl get nodes
```

## ìƒ˜í”Œ ì•±(helm) ë°°í¬

```bash
helm repo add podinfo https://stefanprodan.github.io/podinfo
helm repo update

# Ingress í™œì„±í™” ê°’ íŒŒì¼ ìž‘ì„±
mkdir -p k8s
cat > k8s/values-podinfo.yaml <<'YAML'
ingress:
  enabled: true
  className: traefik
  hosts:
    - host: localhost
      paths:
        - path: /
          pathType: Prefix
service:
  type: ClusterIP
YAML

# ë„¤ìž„ìŠ¤íŽ˜ì´ìŠ¤ì™€ í•¨ê»˜ ì„¤ì¹˜/ì—…ê·¸ë ˆì´ë“œ
helm upgrade --install podinfo podinfo/podinfo \
  -n demo --create-namespace \
  -f k8s/values-podinfo.yaml

kubectl -n demo get pods,svc,ingress
```

ë™ìž‘ í™•ì¸:

```bash
# Traefik ë¡œê¹…/ì´ë²¤íŠ¸ê°€ ê¶ê¸ˆí•˜ë‹¤ë©´:
kubectl -n kube-system get pods | grep traefik
kubectl -n demo get ingress
```
- http://localhost:8080


#### (ì¶”ê°€) ìž‘ì—…ë‚´ìš©:
WSL2+k3dë¡œ ê²½ëŸ‰í™”í•œ k8së¥¼ ì˜¬ë¦¬ê³  Helm íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬, ê¸°ë³¸ Ingressë¥¼ í†µí•´ ë¡œì»¬ì—ì„œ íŠ¸ëž˜í”½ ë¼ìš°íŒ…ì„ ê²€ì¦í–ˆê³ , ìŠ¤í¬ë¦½íŠ¸ë¡œ ìž¬í˜„ì„±ì„ í™•ë³´.
